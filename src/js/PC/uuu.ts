const PCs = [
    {
        "it_nr": "0001",
        "type": "T480",
        "hersteller": "Lenovo",
        "besitzer": "Ziesik, Clemens",
        "seriennummer": "PF1LGFS0",
        "mac": "00:00:00:00:00:00",
        "passwort": "!y2rIj#pdzsp",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0002",
        "type": "T450",
        "hersteller": "Lenovo",
        "besitzer": "Tikvic.Filip",
        "seriennummer": "20BV003NGEPC074",
        "mac": "00:00:00:00:00:00",
        "passwort": "AFiPk6F#p!jj",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0008",
        "type": "BDE",
        "hersteller": "Haug",
        "besitzer": "",
        "seriennummer": "181032035",
        "mac": "00:00:00:00:00:00",
        "passwort": "",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0009",
        "type": "BDE",
        "hersteller": "Haug",
        "besitzer": "",
        "seriennummer": "181032019",
        "mac": "00:00:00:00:00:00",
        "passwort": "",
        "status": "Aktiv",
        "standort": "Halle 3 Mittelgang",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0011",
        "type": "T480",
        "hersteller": "Lenovo",
        "besitzer": "Burger, Maximilian",
        "seriennummer": "PF1RT9KZ",
        "mac": "00:00:00:00:00:00",
        "passwort": "",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0012",
        "type": "Workstation",
        "hersteller": "HP",
        "besitzer": "DEM.CAD",
        "seriennummer": "CZC009DRP3",
        "mac": "00:00:00:00:00:00",
        "passwort": "",
        "status": "Aktiv",
        "standort": "Abt. Brack",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0015",
        "type": "T480",
        "hersteller": "Lenovo",
        "besitzer": "Degen, Robin",
        "seriennummer": "PF0Y702H",
        "mac": "00:00:00:00:00:00",
        "passwort": "",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0019",
        "type": "T14",
        "hersteller": "Lenovo",
        "besitzer": "Narbe, Lucia",
        "seriennummer": "PF2W8ZVT",
        "mac": "00:00:00:00:00:00",
        "passwort": "vH48_201387",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0020",
        "type": "T14",
        "hersteller": "Lenovo",
        "besitzer": "Gravo.Style",
        "seriennummer": "21728528",
        "mac": "00:00:00:00:00:00",
        "passwort": "vH48_201320",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0035",
        "type": "T470",
        "hersteller": "Lenovo",
        "besitzer": "Stuetz, Miriam",
        "seriennummer": "PF16LTQN",
        "mac": "00:00:00:00:00:00",
        "passwort": "fj26B56b",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0037",
        "type": "T490",
        "hersteller": "Lenovo",
        "besitzer": "KÃ¶rner, Igor ",
        "seriennummer": "PF1VZDD2",
        "mac": "00:00:00:00:00:00",
        "passwort": "2022putzi037",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0016",
        "type": "Tower",
        "hersteller": "Haug",
        "besitzer": "DEM.CAD",
        "seriennummer": "21325600",
        "mac": "00:00:00:00:00:00",
        "passwort": "H2Ku89kumo",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0036",
        "type": "Tower",
        "hersteller": "Haug",
        "besitzer": "Butt, Mohammad Naeem",
        "seriennummer": "21325660",
        "mac": "00:00:00:00:00:00",
        "passwort": "Halle20KJm",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    },
    {
        "it_nr": "0047",
        "type": "T14s",
        "hersteller": "Lenovo",
        "besitzer": "Kutrieb, Marlo",
        "seriennummer": "PF334MB6",
        "mac": "00:00:00:00:00:00",
        "passwort": "z*qRV#h-246",
        "status": "Aktiv",
        "standort": "Aichtal",
        "form": "Nein",
        "check": "Nein",
        "equipment": [],
        "kommentar": "TEST"
    }
];

const filters = ["inv:", "typ:", "her:", "st:", "kom:", "eq:"];

interface attr {
    attribute: string;
    value: string;
    or?: string;
}


/**
 * Write a function that takes a string and parses it, splitting with spaces into an array, it should be treated like an AND
 * If that array contains any of the filters, save it into a new array with the filter as the key and the value as the value
 * but if the value contains a ||, save it as an OR with both values
 */


function parseString(str: string): attr[] {
    let arr: attr[] = [];
    let temp: string[] = str.split(" ");
    for (let i = 0; i < temp.length; i++) {
        let temp2: string[] = temp[i].split(":");
        if (temp2.length === 2) {
            if (temp2[1].includes("||")) {
                let temp3: string[] = temp2[1].split("||");
                arr.push({
                    attribute: temp2[0],
                    value: temp3[0],
                    or: temp3[1]
                });
            } else {
                arr.push({
                    attribute: temp2[0],
                    value: temp2[1]
                });
            }
        }
    }
    return arr;
}


function filter(arr: any[], str: string): any[] {
    let temp: attr[] = parseString(str);
    let temp2: any[] = [];
    for (let i = 0; i < arr.length; i++) {
        let temp3: boolean = true;
        for (let j = 0; j < temp.length; j++) {
            if (temp[j].attribute === "inv") {
                if (temp[j].value !== arr[i].it_nr) {
                    temp3 = false;
                }
            } else if (temp[j].attribute === "typ") {
                if (temp[j].value !== arr[i].type) {
                    temp3 = false;
                }
            } else if (temp[j].attribute === "her") {
                if (temp[j].value !== arr[i].hersteller) {
                    temp3 = false;
                }
            } else if (temp[j].attribute === "st") {
                if (temp[j].value !== arr[i].standort) {
                    temp3 = false;
                }
            } else if (temp[j].attribute === "kom") {
                if (temp[j].value !== arr[i].kommentar) {
                    temp3 = false;
                }
            } else if (temp[j].attribute === "eq") {
                if (temp[j].value !== arr[i].equipment) {
                    temp3 = false;
                }
            }
        }
        if (temp3) {
            temp2.push(arr[i]);
        }
    }
    return temp2;
}


console.log(filter(PCs, "typ:T14 her:Lenovo"));


//Zuerst werden die ORs ausgewertet, dann die ORs einzeln in die ANDs